<ui:composition template="/WEB-INF/template/Layout-bs.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fp="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="title">
		2Path - Search
	</ui:define>
	
	<ui:define name="li-active-search">
	<li class="active">
		<a href="Search-bs.xhtml">
		<i class="fa fa-search"></i> Search</a>
	</li>
	</ui:define>
	
	<ui:define name="body">
		<f:metadata>
    		<fp:viewAction id="organismsViewAction" name="organisms" action="#{searchInOrganismBean.preRender}" />
    	</f:metadata>
		<h:form>
	    	<div class="row" style="margin-top:25px">
	    		<p:messages autoUpdate="true" closable="true" />
	    	</div>
			<div class="row">
				<div class="col-md-6">
					<div class="logged-in">
						<h2>
							Select an organism
						</h2>
						<p>
							Description
						</p>
						<p:selectOneListbox id="organismId" value="#{searchInOrganismBean.organismSelected}"
							converter = "organismConverter" filter="true" style="height:150px" required="true">
							<f:selectItems value="#{searchInOrganismBean.organisms}" var="org" 
							itemLabel="#{org.label}" itemValue="#{org}" />
						</p:selectOneListbox>
					</div>
					<div class="not-logged-in">
						<h3>
							Upload you own Organism
						</h3>
						<p>
							This optional feature allows you to search a chemical component
							or a pathway between two components in your private FASTA files uploaded
							in our system and merged with our public database. <b>Don't worry</b>, 
							other users won't have access to your private data. The merged database
							is made entirely for you. Just login and upload. <br/><br/>
						</p>
						<div class="row">
							<div class="col-md-2">
								<br/><h4><i class="fa fa-sign-in" aria-hidden="true"></i> Login</h4>
							</div>
							<div class="col-md-1">
								<h2><i class="fa fa-long-arrow-right" aria-hidden="true"></i></h2>
							</div>
							<div class="col-md-3">
								<h4><p:graphicImage library="images" name="fasta-icon.png"
								style="width:35%;height:35%;"/>
								Upload</h4>
							</div>
							<div class="col-md-1">
								<h2><i class="fa fa-long-arrow-right" aria-hidden="true"></i></h2>
							</div>
							<div class="col-md-2">
								<br/><h4><i class="fa fa-code-fork" aria-hidden="true"></i> Merge</h4>
							</div>
							<div class="col-md-1">
								<h2><i class="fa fa-long-arrow-right" aria-hidden="true"></i></h2>
							</div>
							<div class="col-md-2">
								<br/><h4><i class="fa fa-search" aria-hidden="true"> Search</i></h4>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<h2>
						Search for a keyword
					</h2>
					<p>
						Enter the name of a 
						<ul style="list-style-type:none">
							<li><font color="#4545FF"><b>Component</b></font> 
								(<font color="#4545FF">Product</font> or 
								<font color="#4545FF">Substract</font>)</li>
							<li><font color="#23DD23"><b>Enzyme</b></font></li>
							<li><font color="#4545FF"><b>Reaction</b></font>
						</ul>
					</p>
					<h:panelGroup>
						<p:outputLabel value="Keyword" for="searchInput" style="display:none"/>
						<p:autoComplete id="searchInput" value="#{searchInOrganismBean.keyword}" 
							completeMethod="#{searchInOrganismBean.sugerirKeywords}" required="true"
							forceSelection="true" var="key" itemLabel="#{key}" itemValue="#{key}" 
							style="margin-top:20px; margin-bottom:50px"/>
						<p:watermark for="searchInput" value="Enter a keyword" id="watermark" />
						<p:commandButton class="btn btn-block btn-success" value="Search" for="searchInput" 
							action="#{searchInOrganismBean.searchKeyword}" ajax="false" icon="ui-icon-search"/>
					</h:panelGroup>	
				</div>
			</div>
		</h:form>
		<div class="row" style="margin-top:100px;">
			<div class="col-md-2"></div>
			<div class="col-md-2">
				<a href="#" class="btn btn-block btn-info">
					New Organism
				</a>
			</div>
			<div class="col-md-2">
				<a href="#" class="btn btn-block btn-info">
					New Compound
				</a>
			</div>
			<div class="col-md-2">
				<a href="#" class="btn btn-block btn-info">
					New Enzyme
				</a>
			</div>
			<div class="col-md-2">
				<a href="#" class="btn btn-block btn-info">
					New Protein
				</a>
			</div>
			<div class="col-md-2"></div>
		</div>
	</ui:define>
</ui:composition>